<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
        http://maven.apache.org/xsd/maven-4.0.0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <groupId>omero</groupId>
    <artifactId>downloader</artifactId>
    <version>5.2.0</version>

    <name>OMERO.downloader</name>
    <description>OMERO client for downloading data in bulk from the server</description>

    <properties>
      <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
      <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
      <omero.version>5.2.3-${ice.version}-b22</omero.version>
      <bioformats.version>5.1.10</bioformats.version>
        <maven.compiler.source>1.7</maven.compiler.source>
        <maven.compiler.target>1.7</maven.compiler.target>
    </properties>

  <dependencyManagement>
    <dependencies>
      <dependency>
        <groupId>omero</groupId>
        <artifactId>blitz</artifactId>
        <version>${omero.version}</version>
        <exclusions>
          <exclusion>
            <groupId>org.springframework.ldap</groupId>
            <artifactId>spring-ldap</artifactId>
          </exclusion>
          <exclusion>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
          </exclusion>
          <exclusion>
            <groupId>hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <!-- Override inherited value from blitz due to classifier -->
      <dependency>
        <groupId>org.springframework.ldap</groupId>
        <artifactId>spring-ldap</artifactId>
        <version>1.3.0.RELEASE</version>
        <classifier>all</classifier>
      </dependency>
      <!-- Rather than use the specialized 4510 jar, use Final -->
      <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-core</artifactId>
        <version>3.5.6-Final</version>
      </dependency>
      <!-- Using Bio-Formats official POMs rather than Ivy ones -->
      <dependency>
        <groupId>ome</groupId>
        <artifactId>formats-gpl</artifactId>
        <version>${bioformats.version}</version>
      </dependency>
      <dependency>
        <groupId>ome</groupId>
        <artifactId>formats-bsd</artifactId>
        <version>${bioformats.version}</version>
      </dependency>
        <dependency>
          <groupId>commons-cli</groupId>
          <artifactId>commons-cli</artifactId>
          <version>1.3.1</version>
        </dependency>
    </dependencies>
  </dependencyManagement>

  <profiles>
    <profile>
      <id>ice35</id>
      <activation>
        <property>
          <name>!ice</name>
        </property>
      </activation>
      <properties>
        <ice.version>ice35</ice.version>
      </properties>
    </profile>
    <profile>
      <id>ice36</id>
      <activation>
        <property>
          <name>ice</name>
          <value>36</value>
        </property>
      </activation>
      <properties>
        <ice.version>ice36</ice.version>
      </properties>
    </profile>
  </profiles>

    <repositories>
        <repository>
          <id>ome.maven</id>
          <url>http://artifacts.openmicroscopy.org/artifactory/maven/</url>
        </repository>
    </repositories>

    <build>
      <plugins>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>exec-maven-plugin</artifactId>
          <version>1.2.1</version>
          <executions>
            <execution>
              <goals>
                <goal>java</goal>
              </goals>
            </execution>
          </executions>
          <configuration>
            <mainClass>org.openmicroscopy.client.downloader.Download</mainClass>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>2.3.2</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jar-plugin</artifactId>
          <version>2.4</version>
          <configuration>
            <archive>
              <manifest>
                <mainClass>org.openmicroscopy.client.downloader.Download</mainClass>
              </manifest>
            </archive>
          </configuration>
        </plugin>
      </plugins>
    </build>

    <dependencies>
        <dependency>
          <groupId>omero</groupId>
          <artifactId>blitz</artifactId>
          <exclusions>
            <exclusion>
              <groupId>commons-cli</groupId>
              <artifactId>commons-cli</artifactId>
            </exclusion>
          </exclusions>
        </dependency>
        <dependency>
          <groupId>ome</groupId>
          <artifactId>formats-bsd</artifactId>
        </dependency>
        <dependency>
          <groupId>ome</groupId>
          <artifactId>formats-gpl</artifactId>
        </dependency>
        <dependency>
          <groupId>commons-cli</groupId>
          <artifactId>commons-cli</artifactId>
        </dependency>
    </dependencies>

</project>
